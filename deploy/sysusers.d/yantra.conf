# /usr/lib/sysusers.d/yantra.conf
# YantraOS — Declarative system user and group provisioning
# Consumed by systemd-sysusers(8) during package installation.
#
# TYPE  NAME            ID      GECOS                           HOME  SHELL
# ─────────────────────────────────────────────────────────────────────────────

# 1. Create the primary daemon group.
g     yantra          -

# 2. Create the daemon service account.
#    - Primary group: yantra
#    - No home directory (dash = none)
#    - Shell: /usr/bin/nologin → eliminates interactive login vectors.
#    - Password matrix is automatically locked (no hash specified).
u     yantra_daemon   -       "YantraOS Kriya Loop Daemon"    -     /usr/bin/nologin

# 3. Append yantra_daemon to the docker group.
#    Grants read-write access to /var/run/docker.sock for ephemeral
#    sandboxed container execution without elevating to root.
m     yantra_daemon   docker
